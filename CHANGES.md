# Changelog

## 2.0 (2021-04-09)
* Fix duration computation
* For PHRED score distribution boxplots, remove unnecessary interpolation before creating boxplot
* Remove duplicated code for 1D and 1D2 in PHRED score distribution graphs
* Remove duplicated code for 1D and 1D2 in Correlation between read length and PHRED score graphs
* In read length distribution graphs, add buttons to switch between linear and log scale for xaxis
* Add minimal qscore threshold in the "Device and software information" report table
* In 1D/1D2 sequencing summary extractors, now replace NA values for barcode assignment by "unclassified". Print a warning message on console
* Update unit tests
* For read count histogram tables, replace "frequency" by "percent"
* Rename y-axis for "Distribution of read lengths" graphs to "Read count"
* Add new command line options to finely define output file paths 
* Update the sigma value for gaussian filters when smoothing plots
* In correlation scatterplots, now ponderate the number of pass/fail spots by the pass/fail ratio when using interpolation

## 2.0b3 (2021-03-22)
* New CSS for HTML report
* Add new plots (Read length and PHRED over time, translocation speed...)
* Enhancement of existing graphs
* Big refactoring code for sequencing summary file parsing
* Big refactoring code for creating plots
* Reduce memory usage and execution time with barcodes
* Fix Plotly dependency version requirement
* Add L50 computation
* Sequence lengths of reads was stored into np.int16 that cannot handle >=32kb reads. Now use np.uint32
* Add ToulligQC logo in HTML report
* A telemetry file or Fast5 file is no more required
* Add new fields in the two first tables of the report: Run ID, operating system and basecalling date
* Barcode distribution pie charts can now be visualised as histograms
* In table, float values have now comma separator for thousands
* Update the yield number format in run statistocs table
* Update colors in the graphs
* Add an information link in all the graph titles

## 2.0b2 (2020-11-20)
* Fix import bug
* Fix graph names partially hidden in HTML summary element
* Rewrite help and rename arguments for clarity
* Create required and optional argument groups
* Create default values for --report-name and --output command line arguments
* Update report.html example in Docs with the new version of ToulliQC
* Create new presentation image for README

## 2.0b1 (2020-11-17)
* Refactoring of the sequencing_summary_extractor
* Refactoring of the 1dsqr_sequencing_summary_extractor
* Many performance improvements (reducing memory usage)
* Graphs are now made with Plotly
* Removal of unused options (Albacore log, FASTQ files, configuration file and samplesheet file)
* N50 information added to report.html
* Removal of Albacore support
* Now handle PromethION data
* Update of required dependencies versions
* Add unit tests
* Add new plots (throughput sequencing time)
* Update graph colors

## 1.3 (2019-11-07)
* Add a --barcodes option that allow to avoid samplesheet file creation
* The size of the graphs are now set to 1000x600px
* Many small fixes in graph generation (remove titles, fix grids and layouts...)
* In the HTML report, replace the tooltip icon by an unicode character

## 1.2 (2019-07-25)
* MultiFast5 file can now be used to retrieve run information
* Reporting other barcodes in the "other" category
* Gathering information from Telemetry files in the HTML report

## 1.1 (2019-03-21)
* Add Guppy support for 1D and 1D2
* Telemetry files generated by Albacore or Guppy can now be used to retrieve run information instead of reading a FAST5 file and the pipeline.log file.
* Refactoring of the code of the extractors

## 1.0 (2018-10-23)
* Report.data log file reviewed

## 0.10 (2018-07-18)
* Add pipeline.log parsing option

## 0.9 (2018-03-21)
* Fix out of memory error when parsing big FASTQ files. The parsing of FASTQ files is now faster


## 0.8 (2018-03-14)
* Fix unexisting import in toulligqc.py
* Fix the not working "--quiet" option


## 0.7 (2018-03-14)
* Fix Dockerfile that used the Ubuntu 17.04 (Ubuntu 17.04 packages repository is no more available)


## 0.6 (2018-03-12)
* Update html.report for 1D and 1Dsquare data
* Fix issue when processing fast5 files directory
* Add pass/fail filter
* Add extractor and graphs for 1dsquare analysis


## 0.5 (2017-11-28)
* Fix exception when toulligqc was launched with no arguments
* Remove pypandoc dependency in setup.py
* Fix issue when checking if directory paths ends with a '/'
* Fix issue when checking missing arguments


## 0.4 (2017-11-27)
* Fix issue with the --version option of ToulligQC


## 0.3 (2017-11-27)
* Fix issue with setup.py and pip install


## 0.2 (2017-11-27)
* ToulligQC can now handle Albacore 2.0 output
* The run date is now extracted from a FAST5 file
* Update setup.cfg for PyPi package submission
* Update ToulligQC documentation


## 0.1 (2017-08-30)
* Initial version
